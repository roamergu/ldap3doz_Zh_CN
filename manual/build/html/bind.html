<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The BIND operation &mdash; ldap3 doc zh 0.0.1 文档</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ldap3 doc zh 0.0.1 文档" href="index.html" />
    <link rel="up" title="LDAP Operations" href="operations.html" />
    <link rel="next" title="The UNBIND operation" href="unbind.html" />
    <link rel="prev" title="LDAP Operations" href="operations.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-bind-operation">
<h1>The BIND operation<a class="headerlink" href="#the-bind-operation" title="永久链接至标题">¶</a></h1>
<p>As specified in RFC4511 the <strong>Bind</strong> operation must be tought as the &#8220;authenticate&#8221; operation. It&#8217;s name (and that of its
Unbind counterpart) is for historical reason.</p>
<p>When you open a connection to an LDAP server you&#8217;re in an <strong>anonymous</strong> connection state. What this exactly means
is defined by the server implementation, not by the protocol. Think of this as of a default access to the server public
data (even if what public data means is still a server local matter). In ldap3 you establish the connection to the server
with the open() method of the connection object. The bind() method implies the open() method.</p>
<p>The Bind operation allows authentication information to be exchanged between the client and server to establish a new
authorization state.</p>
<p>The Bind request typically specifies the desired authentication identity. Some Bind mechanisms also allow the client
to specify the authorization identity. If the authorization identity is not specified, the server derives it from the
authentication identity in an implementation-specific manner.</p>
<p>If you want to provide authentication information you must use the Bind operation to specify an identity to be used to
access the data. Keep in mind that either the authentication details than the authorization details
are a local server matter. The LDAP protocol doesn&#8217;t specify how the identity must be stored on the server nor how the
authorization ACLs are specified.</p>
<p>The Bind operation specify 4 different methods to authenticate to the server:</p>
<ul class="simple">
<li>Simple bind: you provide user credentials by the means of a username (in a dn form) and a password.</li>
<li>Anonymous simple Bind: the user and password are passed as empty strings.</li>
<li>Unauthenticated simple Bind: you pass a username without a password. This method, even if specified in the protocol, should not be used because is higly insecure and should be forbidden by the server. It was used for tracing purpose.</li>
<li>Sasl (Simple Authentication and Security Layer): this define multiple mechanisms that each server can provide to allow access to the server. Before trying a mechanism you should check that the server supports it. The LDAP server publish its allowed SASL mechanism in the DSE information that can be read anonymously.</li>
</ul>
<p>The Bind method returns True if the bind is successful, False if something goes wrong while binding. In this case you
can inspect the result attribute of the connection object to get the error description.</p>
<div class="section" id="simple-bind">
<h2>Simple Bind<a class="headerlink" href="#simple-bind" title="永久链接至标题">¶</a></h2>
<p>You perform a Simple Bind operation as in the following example (using the default synchronous strategy):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import class and constants</span>
<span class="kn">from</span> <span class="nn">ldap3</span> <span class="k">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">ALL</span>

<span class="c1"># define the server</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>  <span class="c1"># define an unsecure LDAP server, requesting info on DSE and schema</span>

<span class="c1"># define the connection</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;user_dn&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;user_password&#39;</span><span class="p">)</span>

<span class="c1"># perform the Bind operation</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error in bind&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>The server and connection are create with the default parameters:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">389</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;user_dn&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;user_password&#39;</span><span class="p">,</span> <span class="n">auto_bind</span><span class="o">=</span><span class="s1">&#39;NONE&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="s1">&#39;SIMPLE&#39;</span><span class="p">,</span> \
<span class="n">client_strategy</span><span class="o">=</span><span class="s1">&#39;SYNC&#39;</span><span class="p">,</span> <span class="n">auto_referrals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check_names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raise_exceptions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to the Server and Connections docs for info about the default parameters.</p>
</div>
<div class="section" id="anonymous-bind">
<h2>Anonymous Bind<a class="headerlink" href="#anonymous-bind" title="永久链接至标题">¶</a></h2>
<p>Anonymous bind performs a simple bind with the username and the user passwrod set to empty strings. The ldap3 library has
a specific authentication option to do that:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import class and constants</span>
<span class="kn">from</span> <span class="nn">ldap3</span> <span class="k">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">ALL</span>

<span class="c1"># define the server</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>  <span class="c1"># define an unsecure LDAP server, requesting info on DSE and schema</span>

<span class="c1"># define the connection</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c1"># define an ANONYMOUS connection</span>

<span class="c1"># perform the Bind operation</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error in bind&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>The server and connection are create with the default parameters:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">389</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">auto_bind</span><span class="o">=</span><span class="s1">&#39;NONE&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="s1">&#39;ANONYMOUS&#39;</span><span class="p">,</span> <span class="n">client_strategy</span><span class="o">=</span><span class="s1">&#39;SYNC&#39;</span><span class="p">,</span> <span class="n">auto_referrals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> \
<span class="n">check_names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raise_exceptions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>To use SSL secure connection in the previous examples modify the server object:</p>
<p>To use SSL basic authentication change the server definition to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>  <span class="c1"># define a secure LDAP server on the default 636 port</span>
</pre></div>
</div>
</div>
<div class="section" id="starttls">
<h2>StartTLS<a class="headerlink" href="#starttls" title="永久链接至标题">¶</a></h2>
<p>If you want to raise the transport layer security to an encrypted state you can perform the StartTLS operation. With this
mechanism you can wrap the plain socket in an ssl encrypted socket:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">start_tls</span><span class="p">()</span>
</pre></div>
</div>
<p>From now on the communication transport is encrypted. You should properly configure the Server object addind a Tls object
with the relevant ssl configuration:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Tls</span><span class="p">(</span><span class="n">local_private_key_file</span><span class="o">=</span><span class="s1">&#39;client_private_key.pem&#39;</span><span class="p">,</span> <span class="n">local_certificate_file</span><span class="o">=</span><span class="s1">&#39;client_cert.pem&#39;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">CERT_REQUIRED</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLSv1</span><span class="p">,</span> <span class="n">ca_certs_file</span><span class="o">=</span><span class="s1">&#39;ca_certs.b64&#39;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">tls</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>
</pre></div>
</div>
<p>Please refer to the SSLTLS section for more information.</p>
</div>
<div class="section" id="sasl">
<h2>SASL<a class="headerlink" href="#sasl" title="永久链接至标题">¶</a></h2>
<p>Three SASL mechanisms are currently implemented in the ldap3 library: EXTERNAL, DIGEST-MD5 and GSSAPI (Kerberos, via the gssapi package). Even if DIGEST-MD5 is <strong>deprecated</strong> and moved to historic (RFC6331, July 2011)
because it is <strong>&#8220;insecure and unsuitable for use in protocols&#8221;</strong> (as stated by the RFC).</p>
<p>To query the SASL mechanism available on the server you must read the information published by the server. The ldap3 library
has a convenient way to do that:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ldap3</span> <span class="k">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">ALL</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>  <span class="c1"># define an unsecure LDAP server, requesting info on DSE and schema</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>  <span class="c1"># establish connection without performing any bind (equivalent to ANONYMOUS bind)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">supported_sasl_mechanisms</span><span class="p">)</span>
</pre></div>
</div>
<p>Print out a list of the SASL mechanism supported by the server:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;EXTERNAL&#39;</span><span class="p">,</span> <span class="s1">&#39;DIGEST-MD5&#39;</span><span class="p">,</span> <span class="s1">&#39;GSSAPI&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="external">
<h3>External<a class="headerlink" href="#external" title="永久链接至标题">¶</a></h3>
<p>You can use the EXTERNAL mechanism when you&#8217;re on a secure (TLS) channel. You can provide an authorization identity string in sasl_credentials or let the
server trust the credential provided when establishing the secure channel:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tls</span> <span class="o">=</span> <span class="n">Tls</span><span class="p">(</span><span class="n">local_private_key_file</span> <span class="o">=</span> <span class="s1">&#39;key.pem&#39;</span><span class="p">,</span> <span class="n">local_certificate_file</span> <span class="o">=</span> <span class="s1">&#39;cert.pem&#39;</span><span class="p">,</span> <span class="n">validate</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_REQUIRED</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLSv1</span><span class="p">,</span>
          <span class="n">ca_certs_file</span> <span class="o">=</span> <span class="s1">&#39;cacert.b64&#39;</span><span class="p">)</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="n">test_server</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">test_port_ssl</span><span class="p">,</span> <span class="n">use_ssl</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">tls</span> <span class="o">=</span> <span class="n">tls</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">auto_bind</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">client_strategy</span> <span class="o">=</span> <span class="n">test_strategy</span><span class="p">,</span> <span class="n">authentication</span> <span class="o">=</span> <span class="n">SASL</span><span class="p">,</span>
                        <span class="n">sasl_mechanism</span> <span class="o">=</span> <span class="s1">&#39;EXTERNAL&#39;</span><span class="p">,</span> <span class="n">sasl_credentials</span> <span class="o">=</span> <span class="s1">&#39;username&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="digest-md5">
<h3>Digest-MD5<a class="headerlink" href="#digest-md5" title="永久链接至标题">¶</a></h3>
<p>To use the DIGEST-MD5 you must pass a 4-value tuple as sasl_credentials: (realm, user, password, authz_id). You can pass None for &#8216;realm&#8217; and &#8216;authz_id&#8217; if not used. Quality of Protection is always &#8216;auth&#8217;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="n">test_server</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">test_port</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">auto_bind</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">client_strategy</span> <span class="o">=</span> <span class="n">test_strategy</span><span class="p">,</span> <span class="n">authentication</span> <span class="o">=</span> <span class="n">SASL</span><span class="p">,</span>
                        <span class="n">sasl_mechanism</span> <span class="o">=</span> <span class="s1">&#39;DIGEST-MD5&#39;</span><span class="p">,</span> <span class="n">sasl_credentials</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</pre></div>
</div>
<p>Username is not required to be an LDAP entry, but it can be any identifier recognized by the server (i.e. email, principal, ...). If
you pass None as &#8216;realm&#8217; the default realm of the LDAP server will be used.</p>
<p><strong>Again, remember that DIGEST-MD5 is deprecated and should not be used.</strong></p>
</div>
<div class="section" id="kerberos">
<span id="sasl-kerberos"></span><h3>Kerberos<a class="headerlink" href="#kerberos" title="永久链接至标题">¶</a></h3>
<p>Kerberos authentication uses the <code class="docutils literal"><span class="pre">gssapi</span></code> package. You must install it and configure your Kerberos environment to use the GSSAPI mechanism:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ldap3</span>
<span class="kn">import</span> <span class="nn">ssl</span>

<span class="n">tls</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Tls</span><span class="p">(</span><span class="n">validate</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">CERT_NONE</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLSv1_2</span><span class="p">)</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Server</span><span class="p">(</span><span class="s1">&#39;&lt;servername&gt;&#39;</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tls</span><span class="o">=</span><span class="n">tls</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span>
    <span class="n">server</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="n">ldap3</span><span class="o">.</span><span class="n">SASL</span><span class="p">,</span> <span class="n">sasl_mechanism</span><span class="o">=</span><span class="s1">&#39;GSSAPI&#39;</span><span class="p">)</span>
<span class="n">connection</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">extend</span><span class="o">.</span><span class="n">standard</span><span class="o">.</span><span class="n">who_am_i</span><span class="p">())</span>
</pre></div>
</div>
<p>You can specify which Kerberos client principal should be used with the <code class="docutils literal"><span class="pre">user</span></code> parameter when declaring the <code class="docutils literal"><span class="pre">Connection</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span>
    <span class="n">server</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;ldap-client/client.example.com&#39;</span><span class="p">,</span>
    <span class="n">authentication</span><span class="o">=</span><span class="n">ldap3</span><span class="o">.</span><span class="n">SASL</span><span class="p">,</span> <span class="n">sasl_mechanism</span><span class="o">=</span><span class="s1">&#39;GSSAPI&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>By default the library attempts to bind against the service principal for the domain you attempted to connect to. If your target LDAP service uses a round-robin DNS, it&#8217;s likely that the hostname you connect to won&#8217;t match. In this case, you can either specify a hostname explicitly as the first element of the <code class="docutils literal"><span class="pre">sasl_credentials</span></code> connection parameter, or pass <code class="docutils literal"><span class="pre">True</span></code> as the first element to do a reverse DNS lookup:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Override server hostname for authentication</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span>
    <span class="n">server</span><span class="p">,</span> <span class="n">sasl_credentials</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;ldap-3.example.com&#39;</span><span class="p">,),</span>
    <span class="n">authentication</span><span class="o">=</span><span class="n">ldap3</span><span class="o">.</span><span class="n">SASL</span><span class="p">,</span> <span class="n">sasl_mechanism</span><span class="o">=</span><span class="s1">&#39;GSSAPI&#39;</span><span class="p">)</span>

<span class="c1"># Perform a reverse DNS lookup to determine the hostname to authenticate against.</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">ldap3</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span>
    <span class="n">server</span><span class="p">,</span> <span class="n">sasl_credentials</span><span class="o">=</span><span class="p">(</span><span class="kc">True</span><span class="p">,),</span>
    <span class="n">authentication</span><span class="o">=</span><span class="n">ldap3</span><span class="o">.</span><span class="n">SASL</span><span class="p">,</span> <span class="n">sasl_mechanism</span><span class="o">=</span><span class="s1">&#39;GSSAPI&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ntlm">
<h2>NTLM<a class="headerlink" href="#ntlm" title="永久链接至标题">¶</a></h2>
<p>The ldap3 library supports an additional method to bind to Active Directory servers via the NTLM method:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import class and constants</span>
<span class="kn">from</span> <span class="nn">ldap3</span> <span class="k">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">SIMPLE</span><span class="p">,</span> <span class="n">SYNC</span><span class="p">,</span> <span class="n">ALL</span><span class="p">,</span> <span class="n">SASL</span><span class="p">,</span> <span class="n">NTLM</span>

<span class="c1"># define the server and the connection</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s2">&quot;AUTHTEST</span><span class="se">\\</span><span class="s2">Administrator&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="n">NTLM</span><span class="p">)</span>
<span class="c1"># perform the Bind operation</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error in bind&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>This authentication method is specific for Active Directory and uses a proprietary authentication protocol named SICILY
that breaks the LDAP RFC but can be used to access AD.</p>
<p>When binding via NTLM, it is also possible to authenticate with an LM:NTLM hash rather than a password:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s2">&quot;AUTHTEST</span><span class="se">\\</span><span class="s2">Administrator&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;E52CAC67419A9A224A3B108F3FA6CB6D:8846F7EAEE8FB117AD06BDD830B7586C&quot;</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="n">NTLM</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="ldapi-ldap-over-ipc">
<h2>LDAPI (LDAP over IPC)<a class="headerlink" href="#ldapi-ldap-over-ipc" title="永久链接至标题">¶</a></h2>
<p>If your LDAP server provides a UNIX socket connection (<em>Interprocess Communication</em>) you can use the <strong>ldapi:</strong> schema to access it from the
same machine:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># accessing OpenLDAP server in a root user session</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;ldapi:///var/run/slapd/ldapi&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="n">SASL</span><span class="p">,</span> <span class="n">sasl_mechanism</span><span class="o">=</span><span class="n">EXTERNAL</span><span class="p">,</span> <span class="n">sasl_credentials</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">extend</span><span class="o">.</span><span class="n">standard</span><span class="o">.</span><span class="n">who_am_i</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dn</span><span class="p">:</span><span class="n">cn</span><span class="o">=</span><span class="n">config</span>
</pre></div>
</div>
<p>Using the SASL <em>EXTERNAL</em> mechanism allows you to provide to the server the credentials of the logged user.</p>
<p>While accessing your LDAP server via a UNIX socket you can perform any usual LDAP operation. This should be faster than using a TCP connection.
You don&#8217;t need to use SSL when connecting via a socket because all the communication is in the server memory and is not exposed on the wire.</p>
</div>
<div class="section" id="bind-as-a-different-user-while-the-connection-is-open">
<h2>Bind as a different user while the Connection is open<a class="headerlink" href="#bind-as-a-different-user-while-the-connection-is-open" title="永久链接至标题">¶</a></h2>
<p>LDAP protocol allows to bind as a different user while the connection is open. In this case you can use the <strong>rebind()</strong> method
that let you change the user and the authentication method while the connection is open:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import class and constants</span>
<span class="kn">from</span> <span class="nn">ldap3</span> <span class="k">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">ALL</span><span class="p">,</span> <span class="n">LDAPBindError</span>

<span class="c1"># define the server</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Server</span><span class="p">(</span><span class="s1">&#39;servername&#39;</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="n">ALL</span><span class="p">)</span>  <span class="c1"># define an unsecure LDAP server, requesting info on DSE and schema</span>

<span class="c1"># define the connection</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;user_dn&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;user_password&#39;</span><span class="p">)</span>

<span class="c1"># perform the Bind operation</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">bind</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error in bind&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">c</span><span class="o">.</span><span class="n">rebind</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;different_user_dn&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;different_user_password&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">LDAPBindError</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error in rebind&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>In case the credential are invalid or if the server doesn&#8217;t allow you to rebind the server <em>could</em> abruptley close the connection.
This condition is checked by the rebind() method and it raises an LDAPBindError.</p>
</div>
<div class="section" id="extended-logging">
<h2>Extended logging<a class="headerlink" href="#extended-logging" title="永久链接至标题">¶</a></h2>
<p>To get an idea of what&#8217;s happening when you perform a Simple Bind operation using the StartTLS security feature this is
the extended log from a session to an OpenLdap server from a Windows client with dual stack IP:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Initialization:</span>

<span class="n">INFO</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">ldap3</span> <span class="n">library</span> <span class="n">initialized</span> <span class="o">-</span> <span class="n">logging</span> <span class="n">emitted</span> <span class="k">with</span> <span class="n">loglevel</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">DEBUG</span> <span class="o">-</span> <span class="n">available</span> <span class="n">detail</span> <span class="n">levels</span> <span class="n">are</span><span class="p">:</span> <span class="n">OFF</span><span class="p">,</span> <span class="n">ERROR</span><span class="p">,</span> <span class="n">BASIC</span><span class="p">,</span> <span class="n">PROTOCOL</span><span class="p">,</span> <span class="n">NETWORK</span><span class="p">,</span> <span class="n">EXTENDED</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">ERROR</span><span class="p">:</span><span class="n">detail</span> <span class="n">level</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">EXTENDED</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">instantiated</span> <span class="n">Server</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;openldap&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">389</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="s1">&#39;NO_INFO&#39;</span><span class="p">)</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">instantiated</span> <span class="n">Usage</span> <span class="nb">object</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">instantiated</span> <span class="o">&lt;</span><span class="n">SyncStrategy</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="n">closed</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">no</span> <span class="n">socket</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="ow">not</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">No</span> <span class="n">strategy</span> <span class="o">-</span> <span class="k">async</span> <span class="o">-</span> <span class="n">real</span> <span class="n">DSA</span> <span class="o">-</span> <span class="ow">not</span> <span class="n">pooled</span> <span class="o">-</span> <span class="n">cannot</span> <span class="n">stream</span> <span class="n">output</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">instantiated</span> <span class="n">Connection</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Connection</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="n">Server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;openldap&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">389</span><span class="p">,</span> <span class="n">use_ssl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_info</span><span class="o">=</span><span class="s1">&#39;NO_INFO&#39;</span><span class="p">),</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;cn=admin,o=test&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;&lt;stripped 8 characters of sensitive data&gt;&#39;</span><span class="p">,</span> <span class="n">auto_bind</span><span class="o">=</span><span class="s1">&#39;NONE&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">authentication</span><span class="o">=</span><span class="s1">&#39;SIMPLE&#39;</span><span class="p">,</span> <span class="n">client_strategy</span><span class="o">=</span><span class="s1">&#39;SYNC&#39;</span><span class="p">,</span> <span class="n">auto_referrals</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check_names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">collect_usage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">lazy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raise_exceptions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">opening</span> <span class="n">connection</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="n">closed</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">no</span> <span class="n">socket</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="ow">not</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">reset</span> <span class="n">usage</span> <span class="n">metrics</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">start</span> <span class="n">collecting</span> <span class="n">usage</span> <span class="n">metrics</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">address</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span><span class="o">&gt;</span> <span class="n">resolved</span> <span class="k">as</span> <span class="o">&lt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET6</span><span class="p">:</span> <span class="mi">23</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;fe80::215:5dff:fe8f:2f0d%20&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">address</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span><span class="o">&gt;</span> <span class="n">resolved</span> <span class="k">as</span> <span class="o">&lt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;192.168.137.104&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">)]</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">obtained</span> <span class="n">candidate</span> <span class="n">address</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET6</span><span class="p">:</span> <span class="mi">23</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;fe80::215:5dff:fe8f:2f0d%20&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span><span class="o">&gt;</span> <span class="k">with</span> <span class="n">mode</span> <span class="n">IP_V6_PREFERRED</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">obtained</span> <span class="n">candidate</span> <span class="n">address</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;192.168.137.104&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">)]</span><span class="o">&gt;</span> <span class="k">with</span> <span class="n">mode</span> <span class="n">IP_V6_PREFERRED</span>


<span class="c1"># Opening the connection (trying IPv6 then IPv4):</span>

<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="k">try</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">candidate</span> <span class="n">address</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET6</span><span class="p">:</span> <span class="mi">23</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;fe80::215:5dff:fe8f:2f0d%20&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">ERROR</span><span class="p">:</span><span class="o">&lt;</span><span class="n">socket</span> <span class="n">connection</span> <span class="n">error</span><span class="p">:</span> <span class="p">[</span><span class="n">WinError</span> <span class="mi">10061</span><span class="p">]</span> <span class="n">No</span> <span class="n">connection</span> <span class="n">could</span> <span class="n">be</span> <span class="n">made</span> <span class="n">because</span> <span class="n">the</span> <span class="n">target</span> <span class="n">machine</span> <span class="n">actively</span> <span class="n">refused</span> <span class="n">it</span><span class="o">.&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="n">closed</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="p">[::]:</span><span class="mi">49610</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]:</span><span class="kc">None</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="ow">not</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="k">try</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">candidate</span> <span class="n">address</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">AddressFamily</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">:</span> <span class="mi">2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">SocketKind</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;192.168.137.104&#39;</span><span class="p">,</span> <span class="mi">389</span><span class="p">)]</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">connection</span> <span class="nb">open</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">refreshing</span> <span class="n">server</span> <span class="n">info</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">start</span> <span class="n">START</span> <span class="n">TLS</span> <span class="n">operation</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">instantiated</span> <span class="n">Tls</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Tls</span><span class="p">(</span><span class="n">validate</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">&gt;</span>


<span class="c1"># Starting TLS - wrapping the socket in an ssl socket:</span>

<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">starting</span> <span class="n">tls</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">start</span> <span class="n">EXTENDED</span> <span class="n">operation</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">EXTENDED</span> <span class="n">request</span> <span class="o">&lt;</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;1.3.6.1.4.1.1466.20037&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span><span class="o">&gt;</span> <span class="n">sent</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">new</span> <span class="n">message</span> <span class="nb">id</span> <span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">generated</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">sending</span> <span class="mi">1</span> <span class="n">ldap</span> <span class="n">message</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">EXTENDED</span><span class="p">:</span><span class="n">ldap</span> <span class="n">message</span> <span class="n">sent</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span><span class="p">:</span>
<span class="o">&gt;&gt;</span><span class="n">LDAPMessage</span><span class="p">:</span>
<span class="o">&gt;&gt;</span> <span class="n">messageID</span><span class="o">=</span><span class="mi">1</span>
<span class="o">&gt;&gt;</span> <span class="n">protocolOp</span><span class="o">=</span><span class="n">ProtocolOp</span><span class="p">:</span>
<span class="o">&gt;&gt;</span>  <span class="n">extendedReq</span><span class="o">=</span><span class="n">ExtendedRequest</span><span class="p">:</span>
<span class="o">&gt;&gt;</span>   <span class="n">requestName</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;1.3.6.1.4.1.1466.20037&#39;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">sent</span> <span class="mi">31</span> <span class="nb">bytes</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">received</span> <span class="mi">14</span> <span class="nb">bytes</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">received</span> <span class="mi">1</span> <span class="n">ldap</span> <span class="n">messages</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">EXTENDED</span><span class="p">:</span><span class="n">ldap</span> <span class="n">message</span> <span class="n">received</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span><span class="p">:</span>
<span class="o">&lt;&lt;</span><span class="n">LDAPMessage</span><span class="p">:</span>
<span class="o">&lt;&lt;</span> <span class="n">messageID</span><span class="o">=</span><span class="mi">1</span>
<span class="o">&lt;&lt;</span> <span class="n">protocolOp</span><span class="o">=</span><span class="n">ProtocolOp</span><span class="p">:</span>
<span class="o">&lt;&lt;</span>  <span class="n">extendedResp</span><span class="o">=</span><span class="n">ExtendedResponse</span><span class="p">:</span>
<span class="o">&lt;&lt;</span>   <span class="n">resultCode</span><span class="o">=</span><span class="s1">&#39;success&#39;</span>
<span class="o">&lt;&lt;</span>   <span class="n">matchedDN</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;&#39;</span>
<span class="o">&lt;&lt;</span>   <span class="n">diagnosticMessage</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;&#39;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">EXTENDED</span> <span class="n">response</span> <span class="o">&lt;</span><span class="p">[{</span><span class="s1">&#39;referrals&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;dn&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;extendedResp&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;responseName&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;responseValue&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}]</span><span class="o">&gt;</span> <span class="n">received</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">done</span> <span class="n">EXTENDED</span> <span class="n">operation</span><span class="p">,</span> <span class="n">result</span> <span class="o">&lt;</span><span class="kc">True</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">tls</span> <span class="n">started</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">socket</span> <span class="n">wrapped</span> <span class="k">with</span> <span class="n">SSL</span> <span class="n">using</span> <span class="n">SSLContext</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]:</span><span class="kc">None</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]:</span><span class="kc">None</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="ow">not</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">refreshing</span> <span class="n">server</span> <span class="n">info</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">done</span> <span class="n">START</span> <span class="n">TLS</span> <span class="n">operation</span><span class="p">,</span> <span class="n">result</span> <span class="o">&lt;</span><span class="kc">True</span><span class="o">&gt;</span>


<span class="c1"># Performing Bind operation with Simple Bind method:</span>

<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">start</span> <span class="n">BIND</span> <span class="n">operation</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">performing</span> <span class="n">simple</span> <span class="n">BIND</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">simple</span> <span class="n">BIND</span> <span class="n">request</span> <span class="o">&lt;</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;cn=admin,o=test&#39;</span><span class="p">,</span> <span class="s1">&#39;authentication&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;sasl&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;simple&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;stripped 8 characters of sensitive data&gt;&#39;</span><span class="p">},</span> <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span><span class="o">&gt;</span> <span class="n">sent</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">new</span> <span class="n">message</span> <span class="nb">id</span> <span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span> <span class="n">generated</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">sending</span> <span class="mi">1</span> <span class="n">ldap</span> <span class="n">message</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">EXTENDED</span><span class="p">:</span><span class="n">ldap</span> <span class="n">message</span> <span class="n">sent</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span><span class="p">:</span>
<span class="o">&gt;&gt;</span><span class="n">LDAPMessage</span><span class="p">:</span>
<span class="o">&gt;&gt;</span> <span class="n">messageID</span><span class="o">=</span><span class="mi">2</span>
<span class="o">&gt;&gt;</span> <span class="n">protocolOp</span><span class="o">=</span><span class="n">ProtocolOp</span><span class="p">:</span>
<span class="o">&gt;&gt;</span>  <span class="n">bindRequest</span><span class="o">=</span><span class="n">BindRequest</span><span class="p">:</span>
<span class="o">&gt;&gt;</span>   <span class="n">version</span><span class="o">=</span><span class="mi">3</span>
<span class="o">&gt;&gt;</span>   <span class="n">name</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;cn=admin,o=test&#39;</span>
<span class="o">&gt;&gt;</span>   <span class="n">authentication</span><span class="o">=</span><span class="n">AuthenticationChoice</span><span class="p">:</span>
<span class="o">&gt;&gt;</span>    <span class="n">simple</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;&lt;stripped 8 characters of sensitive data&gt;&#39;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">sent</span> <span class="mi">37</span> <span class="nb">bytes</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">received</span> <span class="mi">14</span> <span class="nb">bytes</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">NETWORK</span><span class="p">:</span><span class="n">received</span> <span class="mi">1</span> <span class="n">ldap</span> <span class="n">messages</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">EXTENDED</span><span class="p">:</span><span class="n">ldap</span> <span class="n">message</span> <span class="n">received</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span><span class="p">:</span>
<span class="o">&lt;&lt;</span><span class="n">LDAPMessage</span><span class="p">:</span>
<span class="o">&lt;&lt;</span> <span class="n">messageID</span><span class="o">=</span><span class="mi">2</span>
<span class="o">&lt;&lt;</span> <span class="n">protocolOp</span><span class="o">=</span><span class="n">ProtocolOp</span><span class="p">:</span>
<span class="o">&lt;&lt;</span>  <span class="n">bindResponse</span><span class="o">=</span><span class="n">BindResponse</span><span class="p">:</span>
<span class="o">&lt;&lt;</span>   <span class="n">resultCode</span><span class="o">=</span><span class="s1">&#39;success&#39;</span>
<span class="o">&lt;&lt;</span>   <span class="n">matchedDN</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;&#39;</span>
<span class="o">&lt;&lt;</span>   <span class="n">diagnosticMessage</span><span class="o">=</span><span class="n">b</span><span class="s1">&#39;&#39;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">PROTOCOL</span><span class="p">:</span><span class="n">BIND</span> <span class="n">response</span> <span class="o">&lt;</span><span class="p">{</span><span class="s1">&#39;referrals&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;dn&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;bindResponse&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;saslCreds&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span><span class="o">&gt;</span> <span class="n">received</span> <span class="n">via</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">unbound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">refreshing</span> <span class="n">server</span> <span class="n">info</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">ldap</span><span class="p">:</span><span class="o">//</span><span class="n">openldap</span><span class="p">:</span><span class="mi">389</span> <span class="o">-</span> <span class="n">cleartext</span> <span class="o">-</span> <span class="n">user</span><span class="p">:</span> <span class="n">cn</span><span class="o">=</span><span class="n">admin</span><span class="p">,</span><span class="n">o</span><span class="o">=</span><span class="n">test</span> <span class="o">-</span> <span class="n">bound</span> <span class="o">-</span> <span class="nb">open</span> <span class="o">-</span> <span class="o">&lt;</span><span class="n">local</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.1</span><span class="p">:</span><span class="mi">49611</span> <span class="o">-</span> <span class="n">remote</span><span class="p">:</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">137.104</span><span class="p">:</span><span class="mi">389</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">tls</span> <span class="n">started</span> <span class="o">-</span> <span class="n">listening</span> <span class="o">-</span> <span class="n">SyncStrategy</span><span class="o">&gt;</span>
<span class="n">DEBUG</span><span class="p">:</span><span class="n">ldap3</span><span class="p">:</span><span class="n">BASIC</span><span class="p">:</span><span class="n">done</span> <span class="n">BIND</span> <span class="n">operation</span><span class="p">,</span> <span class="n">result</span> <span class="o">&lt;</span><span class="kc">True</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>These are the usage metrics of this session:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Connection</span> <span class="n">Usage</span><span class="p">:</span>
 <span class="n">Time</span><span class="p">:</span> <span class="p">[</span><span class="n">elapsed</span><span class="p">:</span>        <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">01.908938</span><span class="p">]</span>
   <span class="n">Initial</span> <span class="n">start</span> <span class="n">time</span><span class="p">:</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">02</span><span class="n">T09</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">49.451263</span>
   <span class="n">Open</span> <span class="n">socket</span> <span class="n">time</span><span class="p">:</span>    <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">02</span><span class="n">T09</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">49.451263</span>
   <span class="n">Close</span> <span class="n">socket</span> <span class="n">time</span><span class="p">:</span>
 <span class="n">Server</span><span class="p">:</span>
   <span class="n">Servers</span> <span class="kn">from</span> <span class="nn">pool</span><span class="p">:</span>   <span class="mi">0</span>
   <span class="n">Sockets</span> <span class="nb">open</span><span class="p">:</span>        <span class="mi">1</span>
   <span class="n">Sockets</span> <span class="n">closed</span><span class="p">:</span>      <span class="mi">0</span>
   <span class="n">Sockets</span> <span class="n">wrapped</span><span class="p">:</span>     <span class="mi">1</span>
 <span class="n">Bytes</span><span class="p">:</span>                 <span class="mi">96</span>
   <span class="n">Transmitted</span><span class="p">:</span>         <span class="mi">68</span>
   <span class="n">Received</span><span class="p">:</span>            <span class="mi">28</span>
 <span class="n">Messages</span><span class="p">:</span>              <span class="mi">4</span>
   <span class="n">Transmitted</span><span class="p">:</span>         <span class="mi">2</span>
   <span class="n">Received</span><span class="p">:</span>            <span class="mi">2</span>
 <span class="n">Operations</span><span class="p">:</span>            <span class="mi">2</span>
   <span class="n">Abandon</span><span class="p">:</span>             <span class="mi">0</span>
   <span class="n">Bind</span><span class="p">:</span>                <span class="mi">1</span>
   <span class="n">Add</span><span class="p">:</span>                 <span class="mi">0</span>
   <span class="n">Compare</span><span class="p">:</span>             <span class="mi">0</span>
   <span class="n">Delete</span><span class="p">:</span>              <span class="mi">0</span>
   <span class="n">Extended</span><span class="p">:</span>            <span class="mi">1</span>
   <span class="n">Modify</span><span class="p">:</span>              <span class="mi">0</span>
   <span class="n">ModifyDn</span><span class="p">:</span>            <span class="mi">0</span>
   <span class="n">Search</span><span class="p">:</span>              <span class="mi">0</span>
   <span class="n">Unbind</span><span class="p">:</span>              <span class="mi">0</span>
 <span class="n">Referrals</span><span class="p">:</span>
   <span class="n">Received</span><span class="p">:</span>            <span class="mi">0</span>
   <span class="n">Followed</span><span class="p">:</span>            <span class="mi">0</span>
 <span class="n">Restartable</span> <span class="n">tries</span><span class="p">:</span>     <span class="mi">0</span>
   <span class="n">Failed</span> <span class="n">restarts</span><span class="p">:</span>     <span class="mi">0</span>
   <span class="n">Successful</span> <span class="n">restarts</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>As you can see there have been two operation, 1 for the bind and 1 for the startTLS (an extendend operation). 1 socket
has been open and has been wrapped in ssl. All the communication stream took 96 bytes in 4 LDAP messages.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">The BIND operation</a><ul>
<li><a class="reference internal" href="#simple-bind">Simple Bind</a></li>
<li><a class="reference internal" href="#anonymous-bind">Anonymous Bind</a></li>
<li><a class="reference internal" href="#starttls">StartTLS</a></li>
<li><a class="reference internal" href="#sasl">SASL</a><ul>
<li><a class="reference internal" href="#external">External</a></li>
<li><a class="reference internal" href="#digest-md5">Digest-MD5</a></li>
<li><a class="reference internal" href="#kerberos">Kerberos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ntlm">NTLM</a></li>
<li><a class="reference internal" href="#ldapi-ldap-over-ipc">LDAPI (LDAP over IPC)</a></li>
<li><a class="reference internal" href="#bind-as-a-different-user-while-the-connection-is-open">Bind as a different user while the Connection is open</a></li>
<li><a class="reference internal" href="#extended-logging">Extended logging</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="operations.html">LDAP Operations</a><ul>
      <li>Previous: <a href="operations.html" title="上一章">LDAP Operations</a></li>
      <li>Next: <a href="unbind.html" title="下一章">The UNBIND operation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/bind.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, cantag&roamer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/bind.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>